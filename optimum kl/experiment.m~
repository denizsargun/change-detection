classdef experiment < handle
    % hold utility object and variables
    % run algorithm
    % plot results
    properties
        alpha
        alphabet
        alphabetSize
        beta
        changedDist
        eps
        storageFile
        glrThrRange
        gmaDist
        iProj
        klMeanRange
        klRadiusRange
        maxFunEvals
        maxIter
        lmpDir
        lmpThrRange
        meanMeanRange
        mProj
        mtbf
        numberOfReps
        performance
        performanceMean
        performanceStd
        pfaIt
        pdIt
        sampleSize
        testNames
        testTime % tic-toc holder
        testType
        theta % learning rate of empirical dist
        unchangedDist
        utility % utility toolbox
    end
    
    methods
        function obj = experiment()
            fid = fopen('directory.txt','w');
            fprintf(fid,pwd);
            fclose(fid);
            obj.alphabet = [-2 -1 0 1 2];
            obj.beta = .5;
            obj.glrThrRange = 2.^(0:999.25:10)';
            obj.klMeanRange = (0:999.05:0.5)';
            obj.klRadiusRange = 2.^(-9:9991:-1)';
            % default MaxFunEvals is 100*numberOfVariables = 500
            obj.maxFunEvals = 400;
            % default MaxIter is 400
            obj.maxIter = 10;
            obj.lmpThrRange = -2.^(0:999.2:2.4)';
            obj.meanMeanRange = (-1:999.05:1)';
            obj.numberOfReps = 200;
            obj.pfaIt = [1; 1; 1; 1];
            obj.pdIt = [1; 1; 1; 1];
            obj.sampleSize = 20;
            obj.testNames = {'kl', 'mean', 'lmp', 'glr'};
            obj.testTypes = {'pfa', 'pd'};
            obj.theta = 0; % not used
            obj.unchangedDist = 1/5*ones(5,1);
            obj.utility = utility(obj);
            obj.utility.setup()
            obj.run
        end
        
    end
    
end
